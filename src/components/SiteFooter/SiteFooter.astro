---
import owner from "@data/owner.json";
import { Icon } from "astro-icon/components";

const currentYear = new Date().getFullYear();

const socialHref = (url: string) => (url.includes("@") ? `mailto:${url}` : url);
---

<footer class="footer stack">
    <p class="copyright">{owner.name} &copy; {currentYear}</p>
    <p class="tagline"><em>{owner.tagline}</em></p>
    <ul class="social-list group">
        {
            owner.social.map((link) => (
                <li class="social-item">
                    <a
                        href={socialHref(link.url)}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="social-link"
                    >
                        <Icon class="social-icon" name={link.icon} />
                        <span class="social-text">{link.name}</span>
                    </a>
                </li>
            ))
        }
    </ul>
</footer>

<style>
    .footer {
        --stack-justification: center;
        padding-block: var(--space-xl);
        margin-block-start: var(--space-xl);
        background: var(--color-primary-shade);
        color: var(--color-light);
        font-family: monospace;
        font-weight: 400;
        box-shadow:
            0 -0.25rem var(--color-primary),
            0 -0.5rem var(--color-secondary),
            0 -0.75rem var(--color-tertiary);
    }

    .social-list {
        --group-justification: center;
        margin: 0;
        padding-block: 0;
        padding-inline: 0;
        padding-inline: var(--space-s);
        list-style: none;
    }

    .social-link {
        text-decoration: none;
        transition: color 0.15s ease-in-out;

        &:hover {
            color: var(--color-tertiary);
            .social-icon {
                color: var(--color-secondary);
            }
        }
    }

    .social-text {
        position: relative;
        padding-block-end: 4px;

        &::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--color-primary);
            transition: background 0.15s ease-in-out;
        }
    }

    .social-link:hover .social-text::after {
        background: var(--color-pop);
    }

    .social-icon {
        font-size: var(--size-1);
        margin-inline: auto;
        transition: color 0.15s ease-in-out;
    }
</style>

<!-- <style>




    .social-link {
        outline: solid red;
        text-decoration: none;
        position: relative;
        transition: color 0.15s ease-in-out;
        padding: 4px;

        &::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--color-primary-shade);
            transition: background 0.15s ease-in-out;
        }

        &:hover {
            color: var(--color-secondary);
            font-weight: 700;
            .social__icon {
                color: var(--color-secondary);
            }

            &::after {
                background: var(--color-pop);
            }
        }

        /*&:hover {
            text-decoration: underline;
            text-decoration-color: var(--color-secondary);
            text-decoration-thickness: 3px;
            text-underline-offset: 3px;

        }*/
    }

    .social__icon {
        margin-inline: auto;
    }
</style> -->

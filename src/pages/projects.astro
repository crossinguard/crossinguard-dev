---
import PageLayout from "../layouts/PageLayout.astro";
import GridProjects from "../components/projects/GridProjects.astro";
import {
    projectCollections,
    projectsPageConfig,
} from "../data/projectCollections";
---

<PageLayout pageID="projects">
    {
        projectsPageConfig.map(({ key, limit = 6 }) => {
            const config = projectCollections[key];
            return (
                <section class="section prose">
                    <h2>{config.name}</h2>
                    <p>{config.description}</p>

                    <GridProjects collection={key} limit={limit} />

                    <a href={`/projects/${config.path}`}>
                        View all {config.name.toLowerCase()} projects
                    </a>
                </section>
            );
        })
    }
</PageLayout>

<style>
    h2 {
        padding-block-start: var(--space-l);
    }

    a {
        display: block;
        padding-block: var(--space-2xs);
    }
</style>
